\include{content/intro}
\chapter{Common Problems and Solutions}
fix solutions to problem
definition by patterns / anti patterns
'so benutzt man das'
- methodologies
- 
name und idee
historie
\section{Scope Leaks}
CSS were created by the design Principle \gls{soc} with the intent to separate content and visual style.
In contrast to inline styles and embedded stylesheets they are reusable across different \gls{html} documents.
To this date, while some browsers support scoped \verb <style> -tags, the CSS scoping module level 1 is still in draft.\footnote{cf. \cite{cssscopingmodule}}\footnote{cf. \cite{styletag}}
This means that the rules of a referenced stylesheet apply to any part of the DOM if selectors are matched and the rule is not overwritten or shadowed.
When a stylesheet is viewed as a program that is executed with the \gls{dom} as context, the \gls{css}-rules may be viewed as impure functions executed in given order.
shadowing = collision

Similar to a program with impure functions, the modification of a stylesheet with of unscoped styles can have unforeseen side effects.
For example, when a change is made to a selector or the associated properties with the intention to modify the visual appearance of a specific element of the \gls{dom}, the rule created or modified can apply to other elements aswell.
This so called `scope leak'\footnote{cf. \cite{mpgcss}} can occur in any \gls{html}-Document that references this very stylesheet.
When the developer undertaking the changes is not aware of all applications of a specific rule, some of the visual changes are considered unforeseen.
The cascade and Specificity mechanism of \gls{css} adds some somplexity to possible side effects due to possible interactions between individual rules.
The risk of unforeseen side effects in the development of generally unscoped \gls{css} is increased with the size of the codebase and the number of developers.
This is due to the increased amount of knowledge required to foresee side effects. 
However, global or 'base' styles are not inherently considered harmful.
Their usage is suitable to provide representational consistency inside single aswell across multiple \gls{html} documents.\footnote{cf. \cite{mpgcss}}
Scoping makes sense to create exceptions aswell as styling more complex structures isolated structures within the DOM.
The effects of a change of scoped styles are easier to localize in comparison to unscoped styles.
So when the intended visual effect of a specific rule is not global, it makes sense to scope it in order to possibly reduce cognitive load for developers.

The aforementioned gls{w3c}-draft on CSS scoping defines a syntax that is similar to that of media queries.
However, media queries no not operate based on the \gls{dom}-structure but are scoping styles based on various properties of the rendering device.\footnote{cf. \cite{mediaqueries}}
Here it is possible to surround a set of rules with a selector that, if matched, limits these rules' scope to children of the matched element.
\begin{verbatim}
    @scope div {
      span {
        color: blue;
      }
    }
\end{verbatim}
In terms of limiting the visibility of rules this has the exact same effect as prefixing it with that selector.\footnote{cf. \cite{cssscopingmodule}}

A selector chain with more than one selector scopes the rule by the first selector:
\begin{verbatim}
.sidebar span {
    background: red;
}
.sidebar a {
    color: blue;
}
\end{verbatim}
\caption{The rules are scoped within the context of \verb sidebar elements}

The usage of this technique is often observed to limit the scope of styles to a specific page.
% rewrite: Chris Coyier introduced and Jeff Escalante recommends decorating the body tag of each \gls{html} document type of a project with an ID

two ways of limiting scopes:
classname prefixes vs selector prefixes


similar effect



dom is always involved

page scope: MPG CSS
apply page name to body element
write styles that
Jeff: ignoring cascade: 



Module Scope

Scoping draft
- overriding 

scope module
shadowing



\section{Duplication of Information}

DRY Principle \footnote{cf. \cite{pragmatic}}
low reusability
- specificity
- tight coupling with markup

Modules / Components
modifiers on components or elements

high reusability

balance between repeating 

extreme decoupling and reusability: Atomic design
downside: non-semantic
good names don't change
css-frameworks

\section{Tight Coupling with Markup}
Some solutions apply or do not apply to specific programmaning styles and workflows
% There are multiple difference between the scoping module and prefixing rule selectors with another selector.
% However the biggest difference is absolute specifity, i.e. the cascade prioritize scoped styles.
% The following section introduces multiple methods to scope \gls{css} rules.
% All these methods work on information provided by the \gls{dom}.
% There are two observed established techniques to utilise rules scoped with prefixes.
% The most frequently observed usage of 
